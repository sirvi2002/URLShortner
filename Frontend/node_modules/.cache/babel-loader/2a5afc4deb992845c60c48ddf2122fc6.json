{"ast":null,"code":"var _jsxFileName = \"/home/yash/Desktop/url-shortener/Frontend/src/LinkResult.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { useEffect, useState } from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LinkResult = _ref => {\n  _s();\n\n  let {\n    inputValue\n  } = _ref;\n  const [shortenLink, setShortenLink] = useState('');\n  const [copied, setCopied] = useState(false);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = async () => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      const body = {\n        realUrl: inputValue\n      };\n      await axios.post('http://localhost:5000/shorturl', body, config).then(res => {\n        console.log(res.data);\n        alert(res.data.message);\n        navigate('/');\n      }).catch(e => {\n        console.log(\"Error :- \", e);\n      }); // setLoading(true);\n      // const response = await axios(`https://api.shrtco.de/v2/shorten?url=${inputValue}`);\n      // setShortenLink(response.data.result.full_short_link);\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (inputValue.length) {\n      fetchData();\n    }\n  }, [inputValue]);\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setCopied(false);\n    }, 1000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [copied]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"noData\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"noData\",\n      children: \"Something went wrong :(\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: shortenLink && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"link-result\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: shortenLink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CopyToClipboard, {\n        text: shortenLink,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: copied ? 'copied' : '',\n          onClick: () => setCopied(true),\n          children: \"Copy to clipboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(LinkResult, \"wPDH77vtxWl02uvid9kmTnrzpIs=\");\n\n_c = LinkResult;\nexport default LinkResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"LinkResult\");","map":{"version":3,"names":["useEffect","useState","CopyToClipboard","axios","LinkResult","inputValue","shortenLink","setShortenLink","copied","setCopied","error","setError","loading","setLoading","fetchData","config","headers","body","realUrl","post","then","res","console","log","data","alert","message","navigate","catch","e","length","timeout","setTimeout","clearTimeout"],"sources":["/home/yash/Desktop/url-shortener/Frontend/src/LinkResult.js"],"sourcesContent":["import './App.css';\nimport { useEffect, useState } from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport axios from 'axios';\nconst LinkResult = ({ inputValue }) => {\n  const [shortenLink, setShortenLink] = useState('');\n  const [copied, setCopied] = useState(false);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = async () => {\n    try {\n      const config = {\n        headers: {\n            \"Content-Type\":\"application/json\"\n        }\n    }\n      const body = {\n      realUrl: inputValue\n    }\n      await axios.post('http://localhost:5000/shorturl', body, config).then((res) =>\n            {\n                console.log(res.data);\n                alert(res.data.message);\n                navigate('/');\n            }).catch((e) => {\n                console.log(\"Error :- \", e);\n            })\n      // setLoading(true);\n      // const response = await axios(`https://api.shrtco.de/v2/shorten?url=${inputValue}`);\n      // setShortenLink(response.data.result.full_short_link);\n    }\n    catch (error) {\n      setError(error);\n    }\n    finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    if (inputValue.length) {\n      fetchData();\n    }\n  }, [inputValue])\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setCopied(false);\n    }, 1000);\n    return () => {\n      clearTimeout(timeout);\n    }\n  }, [copied])\n\n  if (loading) {\n    return <p className=\"noData\">Loading...</p>\n  }\n  if (error) {\n    return <p className=\"noData\">Something went wrong :(</p>\n  }\n\n  return (\n    <>{\n      shortenLink && (\n        <div className='link-result'>\n          <p>{shortenLink}</p>\n          <CopyToClipboard\n            text={shortenLink}\n          >\n            <button className={copied ? 'copied' : ''} onClick={() => setCopied(true)}>Copy to clipboard</button>\n          </CopyToClipboard>\n        </div>\n      )\n    }\n    </>\n  )\n}\n\n\nexport default LinkResult;"],"mappings":";;;AAAA,OAAO,WAAP;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AACA,MAAMC,UAAU,GAAG,QAAoB;EAAA;;EAAA,IAAnB;IAAEC;EAAF,CAAmB;EACrC,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,KAAD,CAApC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;;EAEA,MAAMa,SAAS,GAAG,YAAY;IAC5B,IAAI;MACF,MAAMC,MAAM,GAAG;QACbC,OAAO,EAAE;UACL,gBAAe;QADV;MADI,CAAf;MAKA,MAAMC,IAAI,GAAG;QACbC,OAAO,EAAEb;MADI,CAAb;MAGA,MAAMF,KAAK,CAACgB,IAAN,CAAW,gCAAX,EAA6CF,IAA7C,EAAmDF,MAAnD,EAA2DK,IAA3D,CAAiEC,GAAD,IAChE;QACIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;QACAC,KAAK,CAACJ,GAAG,CAACG,IAAJ,CAASE,OAAV,CAAL;QACAC,QAAQ,CAAC,GAAD,CAAR;MACH,CALD,EAKGC,KALH,CAKUC,CAAD,IAAO;QACZP,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBM,CAAzB;MACH,CAPD,CAAN,CATE,CAiBF;MACA;MACA;IACD,CApBD,CAqBA,OAAOnB,KAAP,EAAc;MACZC,QAAQ,CAACD,KAAD,CAAR;IACD,CAvBD,SAwBQ;MACNG,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CA5BD;;EA8BAb,SAAS,CAAC,MAAM;IACd,IAAIK,UAAU,CAACyB,MAAf,EAAuB;MACrBhB,SAAS;IACV;EACF,CAJQ,EAIN,CAACT,UAAD,CAJM,CAAT;EAMAL,SAAS,CAAC,MAAM;IACd,MAAM+B,OAAO,GAAGC,UAAU,CAAC,MAAM;MAC/BvB,SAAS,CAAC,KAAD,CAAT;IACD,CAFyB,EAEvB,IAFuB,CAA1B;IAGA,OAAO,MAAM;MACXwB,YAAY,CAACF,OAAD,CAAZ;IACD,CAFD;EAGD,CAPQ,EAON,CAACvB,MAAD,CAPM,CAAT;;EASA,IAAII,OAAJ,EAAa;IACX,oBAAO;MAAG,SAAS,EAAC,QAAb;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EACD,IAAIF,KAAJ,EAAW;IACT,oBAAO;MAAG,SAAS,EAAC,QAAb;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,oBACE;IAAA,UACEJ,WAAW,iBACT;MAAK,SAAS,EAAC,aAAf;MAAA,wBACE;QAAA,UAAIA;MAAJ;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,eAAD;QACE,IAAI,EAAEA,WADR;QAAA,uBAGE;UAAQ,SAAS,EAAEE,MAAM,GAAG,QAAH,GAAc,EAAvC;UAA2C,OAAO,EAAE,MAAMC,SAAS,CAAC,IAAD,CAAnE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAHF;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA;EAFJ,iBADF;AAeD,CAzED;;GAAML,U;;KAAAA,U;AA4EN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}