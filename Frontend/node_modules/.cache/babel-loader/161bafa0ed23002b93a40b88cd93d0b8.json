{"ast":null,"code":"var _jsxFileName = \"/home/yash/Desktop/url-shortener-main/Frontend/src/LinkResult.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { useEffect, useState } from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LinkResult = _ref => {\n  _s();\n\n  let {\n    inputValue\n  } = _ref;\n  const [shortenLink, setShortenLink] = useState('');\n  const [copied, setCopied] = useState(false);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const response = await axios(`https://api.shrtco.de/v2/shorten?url=${inputValue}`);\n      setShortenLink(response.data.result.full_short_link);\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (inputValue.length) {\n      fetchData();\n    }\n  }, [inputValue]);\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setCopied(false);\n    }, 1000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [copied]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"noData\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"noData\",\n      children: \"Something went wrong :(\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: shortenLink && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"link-result\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: shortenLink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CopyToClipboard, {\n        text: shortenLink,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: copied ? 'copied' : '',\n          onClick: () => setCopied(true),\n          children: \"Copy to clipboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(LinkResult, \"wPDH77vtxWl02uvid9kmTnrzpIs=\");\n\n_c = LinkResult;\nexport default LinkResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"LinkResult\");","map":{"version":3,"names":["useEffect","useState","CopyToClipboard","axios","LinkResult","inputValue","shortenLink","setShortenLink","copied","setCopied","error","setError","loading","setLoading","fetchData","response","data","result","full_short_link","length","timeout","setTimeout","clearTimeout"],"sources":["/home/yash/Desktop/url-shortener-main/Frontend/src/LinkResult.js"],"sourcesContent":["import './App.css';\nimport { useEffect, useState } from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport axios from 'axios';\nconst LinkResult = ({ inputValue }) => {\n  const [shortenLink, setShortenLink] = useState('');\n  const [copied, setCopied] = useState(false);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const response = await axios(`https://api.shrtco.de/v2/shorten?url=${inputValue}`);\n      setShortenLink(response.data.result.full_short_link);\n    }\n    catch (error) {\n      setError(error);\n    }\n    finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    if (inputValue.length) {\n      fetchData();\n    }\n  }, [inputValue])\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setCopied(false);\n    }, 1000);\n    return () => {\n      clearTimeout(timeout);\n    }\n  }, [copied])\n\n  if (loading) {\n    return <p className=\"noData\">Loading...</p>\n  }\n  if (error) {\n    return <p className=\"noData\">Something went wrong :(</p>\n  }\n\n  return (\n    <>{\n      shortenLink && (\n        <div className='link-result'>\n          <p>{shortenLink}</p>\n          <CopyToClipboard\n            text={shortenLink}\n          >\n            <button className={copied ? 'copied' : ''} onClick={() => setCopied(true)}>Copy to clipboard</button>\n          </CopyToClipboard>\n        </div>\n      )\n    }\n    </>\n  )\n}\n\n\nexport default LinkResult;"],"mappings":";;;AAAA,OAAO,WAAP;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AACA,MAAMC,UAAU,GAAG,QAAoB;EAAA;;EAAA,IAAnB;IAAEC;EAAF,CAAmB;EACrC,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,KAAD,CAApC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;;EAEA,MAAMa,SAAS,GAAG,YAAY;IAC5B,IAAI;MACFD,UAAU,CAAC,IAAD,CAAV;MACA,MAAME,QAAQ,GAAG,MAAMZ,KAAK,CAAE,wCAAuCE,UAAW,EAApD,CAA5B;MACAE,cAAc,CAACQ,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqBC,eAAtB,CAAd;IACD,CAJD,CAKA,OAAOR,KAAP,EAAc;MACZC,QAAQ,CAACD,KAAD,CAAR;IACD,CAPD,SAQQ;MACNG,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CAZD;;EAcAb,SAAS,CAAC,MAAM;IACd,IAAIK,UAAU,CAACc,MAAf,EAAuB;MACrBL,SAAS;IACV;EACF,CAJQ,EAIN,CAACT,UAAD,CAJM,CAAT;EAMAL,SAAS,CAAC,MAAM;IACd,MAAMoB,OAAO,GAAGC,UAAU,CAAC,MAAM;MAC/BZ,SAAS,CAAC,KAAD,CAAT;IACD,CAFyB,EAEvB,IAFuB,CAA1B;IAGA,OAAO,MAAM;MACXa,YAAY,CAACF,OAAD,CAAZ;IACD,CAFD;EAGD,CAPQ,EAON,CAACZ,MAAD,CAPM,CAAT;;EASA,IAAII,OAAJ,EAAa;IACX,oBAAO;MAAG,SAAS,EAAC,QAAb;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EACD,IAAIF,KAAJ,EAAW;IACT,oBAAO;MAAG,SAAS,EAAC,QAAb;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,oBACE;IAAA,UACEJ,WAAW,iBACT;MAAK,SAAS,EAAC,aAAf;MAAA,wBACE;QAAA,UAAIA;MAAJ;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,eAAD;QACE,IAAI,EAAEA,WADR;QAAA,uBAGE;UAAQ,SAAS,EAAEE,MAAM,GAAG,QAAH,GAAc,EAAvC;UAA2C,OAAO,EAAE,MAAMC,SAAS,CAAC,IAAD,CAAnE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAHF;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA;EAFJ,iBADF;AAeD,CAzDD;;GAAML,U;;KAAAA,U;AA4DN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}